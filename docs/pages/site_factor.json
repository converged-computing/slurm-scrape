{
    "url": "https://slurm.schedmd.com/site_factor.html",
    "sections": [
        {
            "title": "\n\nSlurm Workload Manager\n\n",
            "content": "\n\nSchedMD\n\n"
        },
        {
            "title": "Slurm Priority Site Factor Plugin API",
            "content": "Overview This document describes Slurm site_factor plugins and the API that defines\nthem. It is intended as a resource to programmers wishing to write their own\nSlurm site_factor plugins.Slurm site_factor plugins are Slurm plugins that implement the Slurm\nsite_factor API described herein. They are designed to provide the site a\nway to build a custom multifactor priority factor, and will only be loaded\nand operation alongside\nPriorityType=priority/multifactor.The plugins are meant to set and update the\nsite_factor value in the\njob_record_t corresponding to a given job.\nNote that the site_factor itself is an\nunsigned integer, but uses NICE_OFFSET as\nan offset to allow the value to be positive or negative. The plugin itself\nmust add NICE_OFFSET to the value stored to\nsite_factor for proper operation, otherwise\nthe value itself will be extremely negative, and the job priority will likely\ndrop to 1. (The lowest value that does not correspond to a held job.)Plugins must conform to the Slurm Plugin API with the following\nspecifications:const char plugin_type[]=\"major/minor\"\nThe major type must be \"site_factor\" The minor type can be any\nrecognizable abbreviation for the specific plugin.const char plugin_name[]\nSome descriptive name for the plugin.\nThere is no requirement with respect to its format.const uint32_t plugin_version\nIf specified, identifies the version of Slurm used to build this plugin and\nany attempt to load the plugin from a different version of Slurm will result\nin an error.\nIf not specified, then the plugin may be loaded by Slurm commands and\ndaemons from any version, however this may result in difficult to diagnose\nfailures due to changes in the arguments to plugin functions or changes\nin other Slurm functions used by the plugin.API FunctionsThe following functions must appear. Functions which are not implemented\nmust be stubbed, or the plugin will fail to load.int init(void)\nDescription:\n  Called when the plugin is loaded, before any other functions are\n  called. Put global initialization here.\nReturns: \nSLURM_SUCCESS on success, or\nSLURM_ERROR on failure.\nvoid fini(void)\nDescription:\n  Called when the plugin is removed. Clear any allocated storage here.\nReturns: None.\nNote: These init and fini functions are not the same as those\ndescribed in the dlopen (3) system library.\nThe C run-time system co-opts those symbols for its own initialization.\nThe system _init() is called before the Slurm\ninit(), and the Slurm\nfini() is called before the system's\n_fini().\nvoid site_factor_p_reconfig(void)\nDescription: Refresh the plugin's\nconfiguration. Called whenever slurmctld is reconfigured.\nReturns: void\nvoid site_factor_p_set(job_record_t *job_ptr)\nDescription: Sets the site_priority of the job, if desired.\nArguments:\njob_ptr (input) pointer to the job record.\nReturns: void\nvoid site_factor_p_update(void)\nDescription: Handle periodic updates to\nall site_priority values in the job_list. Called every \nReturns: void\nParameters\nThese parameters can be used in the slurm.conf to configure the\nplugin and the frequency at which to gather information about running jobs.\n\nPrioritySiteFactorParameters\nOptional parameters for the site_factor plugin. Interpretation of any\nvalue is left to the site_factor plugin itself.\nPrioritySiteFactorPlugin\nSpecifies which plugin should be used.\nPriorityCalcPeriod\nInterval between calls to\nsite_factor_p_update()\n\nLast modified 23 October 2019\n"
        },
        {
            "title": "Navigation",
            "content": "\nSlurm Workload Manager\nVersion 24.05\n\n\nAbout\n\nOverview\nRelease Notes\n\n\n\nUsing\n\nDocumentation\nFAQ\nPublications\n\n\n\nInstalling\n\nDownload\nRelated Software\nInstallation Guide\n\n\n\nGetting Help\n\nMailing Lists\nSupport and Training\nTroubleshooting\n\n\n"
        },
        {
            "title": "Parameters",
            "content": "These parameters can be used in the slurm.conf to configure the\nplugin and the frequency at which to gather information about running jobs.\nPrioritySiteFactorParameters\nOptional parameters for the site_factor plugin. Interpretation of any\nvalue is left to the site_factor plugin itself.\nPrioritySiteFactorPlugin\nSpecifies which plugin should be used.\nPriorityCalcPeriod\nInterval between calls to\nsite_factor_p_update()\nLast modified 23 October 2019"
        }
    ]
}